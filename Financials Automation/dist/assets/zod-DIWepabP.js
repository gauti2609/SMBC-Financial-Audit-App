import{S as Rt,i as Tt,M as He,N as Lt,A as ct,C as Ut,r as ue,l as Nt,B as It,R as N}from"./index-HyfZDTXf.js";var jt=class extends Rt{#t;#s=void 0;#e;#r;constructor(e,r){super(),this.#t=e,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#t.defaultMutationOptions(e),Tt(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#e,observer:this}),r?.mutationKey&&this.options.mutationKey&&He(r.mutationKey)!==He(this.options.mutationKey)?this.reset():this.#e?.state.status==="pending"&&this.#e.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#e?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#n(e)}getCurrentResult(){return this.#s}reset(){this.#e?.removeObserver(this),this.#e=void 0,this.#i(),this.#n()}mutate(e,r){return this.#r=r,this.#e?.removeObserver(this),this.#e=this.#t.getMutationCache().build(this.#t,this.options),this.#e.addObserver(this),this.#e.execute(e)}#i(){const e=this.#e?.state??Lt();this.#s={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#n(e){ct.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#s.variables,t=this.#s.context,s={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#r.onSuccess?.(e.data,r,t,s),this.#r.onSettled?.(e.data,null,r,t,s)):e?.type==="error"&&(this.#r.onError?.(e.error,r,t,s),this.#r.onSettled?.(void 0,e.error,r,t,s))}this.listeners.forEach(r=>{r(this.#s)})})}};function wr(e,r){const t=Ut(),[s]=ue.useState(()=>new jt(t,e));ue.useEffect(()=>{s.setOptions(e)},[s,e]);const l=ue.useSyncExternalStore(ue.useCallback(a=>s.subscribe(ct.batchCalls(a)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),o=ue.useCallback((a,c)=>{s.mutate(a,c).catch(Nt)},[s]);if(l.error&&It(s.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:o,mutateAsync:l.mutate}}var de=e=>e.type==="checkbox",re=e=>e instanceof Date,U=e=>e==null;const ft=e=>typeof e=="object";var D=e=>!U(e)&&!Array.isArray(e)&&ft(e)&&!re(e),Bt=e=>D(e)&&e.target?de(e.target)?e.target.checked:e.target.value:e,zt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,qt=(e,r)=>e.has(zt(r)),Wt=e=>{const r=e.constructor&&e.constructor.prototype;return D(r)&&r.hasOwnProperty("isPrototypeOf")},Ce=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function M(e){let r;const t=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(Ce&&(e instanceof Blob||s))&&(t||D(e)))if(r=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!Wt(e))r=e;else for(const l in e)e.hasOwnProperty(l)&&(r[l]=M(e[l]));else return e;return r}var _e=e=>/^\w*$/.test(e),S=e=>e===void 0,Pe=e=>Array.isArray(e)?e.filter(Boolean):[],Me=e=>Pe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),h=(e,r,t)=>{if(!r||!D(e))return t;const s=(_e(r)?[r]:Me(r)).reduce((l,o)=>U(l)?l:l[o],e);return S(s)||s===e?S(e[r])?t:e[r]:s},H=e=>typeof e=="boolean",A=(e,r,t)=>{let s=-1;const l=_e(r)?[r]:Me(r),o=l.length,a=o-1;for(;++s<o;){const c=l[s];let V=t;if(s!==a){const x=e[c];V=D(x)||Array.isArray(x)?x:isNaN(+l[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=V,e=e[c]}};const Ze={BLUR:"blur",FOCUS_OUT:"focusout"},z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},J={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},$t=N.createContext(null);$t.displayName="HookFormContext";var Kt=(e,r,t,s=!0)=>{const l={defaultValues:r._defaultValues};for(const o in e)Object.defineProperty(l,o,{get:()=>{const a=o;return r._proxyFormState[a]!==z.all&&(r._proxyFormState[a]=!s||z.all),e[a]}});return l};const Ht=typeof window<"u"?N.useLayoutEffect:N.useEffect;var I=e=>typeof e=="string",Zt=(e,r,t,s,l)=>I(e)?(s&&r.watch.add(e),h(t,e,l)):Array.isArray(e)?e.map(o=>(s&&r.watch.add(o),h(t,o))):(s&&(r.watchAll=!0),t),Se=e=>U(e)||!ft(e);function ee(e,r,t=new WeakSet){if(Se(e)||Se(r))return e===r;if(re(e)&&re(r))return e.getTime()===r.getTime();const s=Object.keys(e),l=Object.keys(r);if(s.length!==l.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const o of s){const a=e[o];if(!l.includes(o))return!1;if(o!=="ref"){const c=r[o];if(re(a)&&re(c)||D(a)&&D(c)||Array.isArray(a)&&Array.isArray(c)?!ee(a,c,t):a!==c)return!1}}return!0}var Re=(e,r,t,s,l)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:l||!0}}:{},ce=e=>Array.isArray(e)?e:[e],Je=()=>{let e=[];return{get observers(){return e},next:l=>{for(const o of e)o.next&&o.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(o=>o!==l)}}),unsubscribe:()=>{e=[]}}};function dt(e,r){const t={};for(const s in e)if(e.hasOwnProperty(s)){const l=e[s],o=r[s];if(l&&D(l)&&o){const a=dt(l,o);D(a)&&(t[s]=a)}else e[s]&&(t[s]=o)}return t}var L=e=>D(e)&&!Object.keys(e).length,Te=e=>e.type==="file",q=e=>typeof e=="function",be=e=>{if(!Ce)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},yt=e=>e.type==="select-multiple",Le=e=>e.type==="radio",Jt=e=>Le(e)||de(e),Oe=e=>be(e)&&e.isConnected;function Qt(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=S(e)?s++:e[r[s++]];return e}function Yt(e){for(const r in e)if(e.hasOwnProperty(r)&&!S(e[r]))return!1;return!0}function k(e,r){const t=Array.isArray(r)?r:_e(r)?[r]:Me(r),s=t.length===1?e:Qt(e,t),l=t.length-1,o=t[l];return s&&delete s[o],l!==0&&(D(s)&&L(s)||Array.isArray(s)&&Yt(s))&&k(e,t.slice(0,-1)),e}var Xt=e=>{for(const r in e)if(q(e[r]))return!0;return!1};function ht(e){return Array.isArray(e)||D(e)&&!Xt(e)}function ke(e,r={}){for(const t in e)ht(e[t])?(r[t]=Array.isArray(e[t])?[]:{},ke(e[t],r[t])):S(e[t])||(r[t]=!0);return r}function ne(e,r,t){t||(t=ke(r));for(const s in e)ht(e[s])?S(r)||Se(t[s])?t[s]=ke(e[s],Array.isArray(e[s])?[]:{}):ne(e[s],U(r)?{}:r[s],t[s]):t[s]=!ee(e[s],r[s]);return t}const Qe={value:!1,isValid:!1},Ye={value:!0,isValid:!0};var gt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!S(e[0].attributes.value)?S(e[0].value)||e[0].value===""?Ye:{value:e[0].value,isValid:!0}:Ye:Qe}return Qe},vt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>S(e)?e:r?e===""?NaN:e&&+e:t&&I(e)?new Date(e):s?s(e):e;const Xe={isValid:!1,value:null};var bt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Xe):Xe;function Ge(e){const r=e.ref;return Te(r)?r.files:Le(r)?bt(e.refs).value:yt(r)?[...r.selectedOptions].map(({value:t})=>t):de(r)?gt(e.refs).value:vt(S(r.value)?e.ref.value:r.value,e)}var Gt=(e,r,t,s)=>{const l={};for(const o of e){const a=h(r,o);a&&A(l,o,a._f)}return{criteriaMode:t,names:[...e],fields:l,shouldUseNativeValidation:s}},me=e=>e instanceof RegExp,le=e=>S(e)?e:me(e)?e.source:D(e)?me(e.value)?e.value.source:e.value:e,et=e=>({isOnSubmit:!e||e===z.onSubmit,isOnBlur:e===z.onBlur,isOnChange:e===z.onChange,isOnAll:e===z.all,isOnTouch:e===z.onTouched});const tt="AsyncFunction";var er=e=>!!e&&!!e.validate&&!!(q(e.validate)&&e.validate.constructor.name===tt||D(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===tt)),tr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),rt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const fe=(e,r,t,s)=>{for(const l of t||Object.keys(e)){const o=h(e,l);if(o){const{_f:a,...c}=o;if(a){if(a.refs&&a.refs[0]&&r(a.refs[0],l)&&!s)return!0;if(a.ref&&r(a.ref,a.name)&&!s)return!0;if(fe(c,r))break}else if(D(c)&&fe(c,r))break}}};function st(e,r,t){const s=h(e,t);if(s||_e(t))return{error:s,name:t};const l=t.split(".");for(;l.length;){const o=l.join("."),a=h(r,o),c=h(e,o);if(a&&!Array.isArray(a)&&t!==o)return{name:t};if(c&&c.type)return{name:o,error:c};if(c&&c.root&&c.root.type)return{name:`${o}.root`,error:c.root};l.pop()}return{name:t}}var rr=(e,r,t,s)=>{t(e);const{name:l,...o}=e;return L(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(a=>r[a]===(!s||z.all))},sr=(e,r,t)=>!e||!r||e===r||ce(e).some(s=>s&&(t?s===r:s.startsWith(r)||r.startsWith(s))),ir=(e,r,t,s,l)=>l.isOnAll?!1:!t&&l.isOnTouch?!(r||e):(t?s.isOnBlur:l.isOnBlur)?!e:(t?s.isOnChange:l.isOnChange)?e:!0,nr=(e,r)=>!Pe(h(e,r)).length&&k(e,r),or=(e,r,t)=>{const s=ce(h(e,t));return A(s,"root",r[t]),A(e,t,s),e};function it(e,r,t="validate"){if(I(e)||Array.isArray(e)&&e.every(I)||H(e)&&!e)return{type:t,message:I(e)?e:"",ref:r}}var ie=e=>D(e)&&!me(e)?e:{value:e,message:""},nt=async(e,r,t,s,l,o)=>{const{ref:a,refs:c,required:V,maxLength:x,minLength:b,min:p,max:v,pattern:oe,validate:Q,name:C,valueAsNumber:Y,mount:Ve}=e._f,_=h(t,C);if(!Ve||r.has(C))return{};const Z=c?c[0]:a,W=m=>{l&&Z.reportValidity&&(Z.setCustomValidity(H(m)?"":m||""),Z.reportValidity())},P={},ye=Le(a),X=de(a),Fe=ye||X,B=(Y||Te(a))&&S(a.value)&&S(_)||be(a)&&a.value===""||_===""||Array.isArray(_)&&!_.length,te=Re.bind(null,C,s,P),$=(m,w,O,R=J.maxLength,T=J.minLength)=>{const K=m?w:O;P[C]={type:m?R:T,message:K,ref:a,...te(m?R:T,K)}};if(o?!Array.isArray(_)||!_.length:V&&(!Fe&&(B||U(_))||H(_)&&!_||X&&!gt(c).isValid||ye&&!bt(c).isValid)){const{value:m,message:w}=I(V)?{value:!!V,message:V}:ie(V);if(m&&(P[C]={type:J.required,message:w,ref:Z,...te(J.required,w)},!s))return W(w),P}if(!B&&(!U(p)||!U(v))){let m,w;const O=ie(v),R=ie(p);if(!U(_)&&!isNaN(_)){const T=a.valueAsNumber||_&&+_;U(O.value)||(m=T>O.value),U(R.value)||(w=T<R.value)}else{const T=a.valueAsDate||new Date(_),K=he=>new Date(new Date().toDateString()+" "+he),ae=a.type=="time",se=a.type=="week";I(O.value)&&_&&(m=ae?K(_)>K(O.value):se?_>O.value:T>new Date(O.value)),I(R.value)&&_&&(w=ae?K(_)<K(R.value):se?_<R.value:T<new Date(R.value))}if((m||w)&&($(!!m,O.message,R.message,J.max,J.min),!s))return W(P[C].message),P}if((x||b)&&!B&&(I(_)||o&&Array.isArray(_))){const m=ie(x),w=ie(b),O=!U(m.value)&&_.length>+m.value,R=!U(w.value)&&_.length<+w.value;if((O||R)&&($(O,m.message,w.message),!s))return W(P[C].message),P}if(oe&&!B&&I(_)){const{value:m,message:w}=ie(oe);if(me(m)&&!_.match(m)&&(P[C]={type:J.pattern,message:w,ref:a,...te(J.pattern,w)},!s))return W(w),P}if(Q){if(q(Q)){const m=await Q(_,t),w=it(m,Z);if(w&&(P[C]={...w,...te(J.validate,w.message)},!s))return W(w.message),P}else if(D(Q)){let m={};for(const w in Q){if(!L(m)&&!s)break;const O=it(await Q[w](_,t),Z,w);O&&(m={...O,...te(w,O.message)},W(O.message),s&&(P[C]=m))}if(!L(m)&&(P[C]={ref:Z,...m},!s))return P}}return W(!0),P};const ar={mode:z.onSubmit,reValidateMode:z.onChange,shouldFocusError:!0};function ur(e={}){let r={...ar,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:q(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},l=D(r.defaultValues)||D(r.values)?M(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:M(l),a={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},V,x=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...b};const v={array:Je(),state:Je()},oe=r.criteriaMode===z.all,Q=i=>n=>{clearTimeout(x),x=setTimeout(i,n)},C=async i=>{if(!r.disabled&&(b.isValid||p.isValid||i)){const n=r.resolver?L((await X()).errors):await B(s,!0);n!==t.isValid&&v.state.next({isValid:n})}},Y=(i,n)=>{!r.disabled&&(b.isValidating||b.validatingFields||p.isValidating||p.validatingFields)&&((i||Array.from(c.mount)).forEach(u=>{u&&(n?A(t.validatingFields,u,n):k(t.validatingFields,u))}),v.state.next({validatingFields:t.validatingFields,isValidating:!L(t.validatingFields)}))},Ve=(i,n=[],u,y,d=!0,f=!0)=>{if(y&&u&&!r.disabled){if(a.action=!0,f&&Array.isArray(h(s,i))){const g=u(h(s,i),y.argA,y.argB);d&&A(s,i,g)}if(f&&Array.isArray(h(t.errors,i))){const g=u(h(t.errors,i),y.argA,y.argB);d&&A(t.errors,i,g),nr(t.errors,i)}if((b.touchedFields||p.touchedFields)&&f&&Array.isArray(h(t.touchedFields,i))){const g=u(h(t.touchedFields,i),y.argA,y.argB);d&&A(t.touchedFields,i,g)}(b.dirtyFields||p.dirtyFields)&&(t.dirtyFields=ne(l,o)),v.state.next({name:i,isDirty:$(i,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else A(o,i,n)},_=(i,n)=>{A(t.errors,i,n),v.state.next({errors:t.errors})},Z=i=>{t.errors=i,v.state.next({errors:t.errors,isValid:!1})},W=(i,n,u,y)=>{const d=h(s,i);if(d){const f=h(o,i,S(u)?h(l,i):u);S(f)||y&&y.defaultChecked||n?A(o,i,n?f:Ge(d._f)):O(i,f),a.mount&&C()}},P=(i,n,u,y,d)=>{let f=!1,g=!1;const F={name:i};if(!r.disabled){if(!u||y){(b.isDirty||p.isDirty)&&(g=t.isDirty,t.isDirty=F.isDirty=$(),f=g!==F.isDirty);const E=ee(h(l,i),n);g=!!h(t.dirtyFields,i),E?k(t.dirtyFields,i):A(t.dirtyFields,i,!0),F.dirtyFields=t.dirtyFields,f=f||(b.dirtyFields||p.dirtyFields)&&g!==!E}if(u){const E=h(t.touchedFields,i);E||(A(t.touchedFields,i,u),F.touchedFields=t.touchedFields,f=f||(b.touchedFields||p.touchedFields)&&E!==u)}f&&d&&v.state.next(F)}return f?F:{}},ye=(i,n,u,y)=>{const d=h(t.errors,i),f=(b.isValid||p.isValid)&&H(n)&&t.isValid!==n;if(r.delayError&&u?(V=Q(()=>_(i,u)),V(r.delayError)):(clearTimeout(x),V=null,u?A(t.errors,i,u):k(t.errors,i)),(u?!ee(d,u):d)||!L(y)||f){const g={...y,...f&&H(n)?{isValid:n}:{},errors:t.errors,name:i};t={...t,...g},v.state.next(g)}},X=async i=>{Y(i,!0);const n=await r.resolver(o,r.context,Gt(i||c.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return Y(i),n},Fe=async i=>{const{errors:n}=await X(i);if(i)for(const u of i){const y=h(n,u);y?A(t.errors,u,y):k(t.errors,u)}else t.errors=n;return n},B=async(i,n,u={valid:!0})=>{for(const y in i){const d=i[y];if(d){const{_f:f,...g}=d;if(f){const F=c.array.has(f.name),E=d._f&&er(d._f);E&&b.validatingFields&&Y([f.name],!0);const j=await nt(d,c.disabled,o,oe,r.shouldUseNativeValidation&&!n,F);if(E&&b.validatingFields&&Y([f.name]),j[f.name]&&(u.valid=!1,n))break;!n&&(h(j,f.name)?F?or(t.errors,j,f.name):A(t.errors,f.name,j[f.name]):k(t.errors,f.name))}!L(g)&&await B(g,n,u)}}return u.valid},te=()=>{for(const i of c.unMount){const n=h(s,i);n&&(n._f.refs?n._f.refs.every(u=>!Oe(u)):!Oe(n._f.ref))&&we(i)}c.unMount=new Set},$=(i,n)=>!r.disabled&&(i&&n&&A(o,i,n),!ee(he(),l)),m=(i,n,u)=>Zt(i,c,{...a.mount?o:S(n)?l:I(i)?{[i]:n}:n},u,n),w=i=>Pe(h(a.mount?o:l,i,r.shouldUnregister?h(l,i,[]):[])),O=(i,n,u={})=>{const y=h(s,i);let d=n;if(y){const f=y._f;f&&(!f.disabled&&A(o,i,vt(n,f)),d=be(f.ref)&&U(n)?"":n,yt(f.ref)?[...f.ref.options].forEach(g=>g.selected=d.includes(g.value)):f.refs?de(f.ref)?f.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(d)?g.checked=!!d.find(F=>F===g.value):g.checked=d===g.value||!!d)}):f.refs.forEach(g=>g.checked=g.value===d):Te(f.ref)?f.ref.value="":(f.ref.value=d,f.ref.type||v.state.next({name:i,values:M(o)})))}(u.shouldDirty||u.shouldTouch)&&P(i,d,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&se(i)},R=(i,n,u)=>{for(const y in n){if(!n.hasOwnProperty(y))return;const d=n[y],f=i+"."+y,g=h(s,f);(c.array.has(i)||D(d)||g&&!g._f)&&!re(d)?R(f,d,u):O(f,d,u)}},T=(i,n,u={})=>{const y=h(s,i),d=c.array.has(i),f=M(n);A(o,i,f),d?(v.array.next({name:i,values:M(o)}),(b.isDirty||b.dirtyFields||p.isDirty||p.dirtyFields)&&u.shouldDirty&&v.state.next({name:i,dirtyFields:ne(l,o),isDirty:$(i,f)})):y&&!y._f&&!U(f)?R(i,f,u):O(i,f,u),rt(i,c)&&v.state.next({...t,name:i}),v.state.next({name:a.mount?i:void 0,values:M(o)})},K=async i=>{a.mount=!0;const n=i.target;let u=n.name,y=!0;const d=h(s,u),f=E=>{y=Number.isNaN(E)||re(E)&&isNaN(E.getTime())||ee(E,h(o,u,E))},g=et(r.mode),F=et(r.reValidateMode);if(d){let E,j;const ge=n.type?Ge(d._f):Bt(i),G=i.type===Ze.BLUR||i.type===Ze.FOCUS_OUT,Ct=!tr(d._f)&&!r.resolver&&!h(t.errors,u)&&!d._f.deps||ir(G,h(t.touchedFields,u),t.isSubmitted,F,g),xe=rt(u,c,G);A(o,u,ge),G?(!n||!n.readOnly)&&(d._f.onBlur&&d._f.onBlur(i),V&&V(0)):d._f.onChange&&d._f.onChange(i);const pe=P(u,ge,G),Pt=!L(pe)||xe;if(!G&&v.state.next({name:u,type:i.type,values:M(o)}),Ct)return(b.isValid||p.isValid)&&(r.mode==="onBlur"?G&&C():G||C()),Pt&&v.state.next({name:u,...xe?{}:pe});if(!G&&xe&&v.state.next({...t}),r.resolver){const{errors:$e}=await X([u]);if(f(ge),y){const Mt=st(t.errors,s,u),Ke=st($e,s,Mt.name||u);E=Ke.error,u=Ke.name,j=L($e)}}else Y([u],!0),E=(await nt(d,c.disabled,o,oe,r.shouldUseNativeValidation))[u],Y([u]),f(ge),y&&(E?j=!1:(b.isValid||p.isValid)&&(j=await B(s,!0)));y&&(d._f.deps&&(!Array.isArray(d._f.deps)||d._f.deps.length>0)&&se(d._f.deps),ye(u,j,E,pe))}},ae=(i,n)=>{if(h(t.errors,n)&&i.focus)return i.focus(),1},se=async(i,n={})=>{let u,y;const d=ce(i);if(r.resolver){const f=await Fe(S(i)?i:d);u=L(f),y=i?!d.some(g=>h(f,g)):u}else i?(y=(await Promise.all(d.map(async f=>{const g=h(s,f);return await B(g&&g._f?{[f]:g}:g)}))).every(Boolean),!(!y&&!t.isValid)&&C()):y=u=await B(s);return v.state.next({...!I(i)||(b.isValid||p.isValid)&&u!==t.isValid?{}:{name:i},...r.resolver||!i?{isValid:u}:{},errors:t.errors}),n.shouldFocus&&!y&&fe(s,ae,i?d:c.mount),y},he=(i,n)=>{let u={...a.mount?o:l};return n&&(u=dt(n.dirtyFields?t.dirtyFields:t.touchedFields,u)),S(i)?u:I(i)?h(u,i):i.map(y=>h(u,y))},Ue=(i,n)=>({invalid:!!h((n||t).errors,i),isDirty:!!h((n||t).dirtyFields,i),error:h((n||t).errors,i),isValidating:!!h(t.validatingFields,i),isTouched:!!h((n||t).touchedFields,i)}),Et=i=>{i&&ce(i).forEach(n=>k(t.errors,n)),v.state.next({errors:i?t.errors:{}})},Ne=(i,n,u)=>{const y=(h(s,i,{_f:{}})._f||{}).ref,d=h(t.errors,i)||{},{ref:f,message:g,type:F,...E}=d;A(t.errors,i,{...E,...n,ref:y}),v.state.next({name:i,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&y&&y.focus&&y.focus()},xt=(i,n)=>q(i)?v.state.subscribe({next:u=>"values"in u&&i(m(void 0,n),u)}):m(i,n,!0),Ie=i=>v.state.subscribe({next:n=>{sr(i.name,n.name,i.exact)&&rr(n,i.formState||b,Dt,i.reRenderRoot)&&i.callback({values:{...o},...t,...n,defaultValues:l})}}).unsubscribe,pt=i=>(a.mount=!0,p={...p,...i.formState},Ie({...i,formState:p})),we=(i,n={})=>{for(const u of i?ce(i):c.mount)c.mount.delete(u),c.array.delete(u),n.keepValue||(k(s,u),k(o,u)),!n.keepError&&k(t.errors,u),!n.keepDirty&&k(t.dirtyFields,u),!n.keepTouched&&k(t.touchedFields,u),!n.keepIsValidating&&k(t.validatingFields,u),!r.shouldUnregister&&!n.keepDefaultValue&&k(l,u);v.state.next({values:M(o)}),v.state.next({...t,...n.keepDirty?{isDirty:$()}:{}}),!n.keepIsValid&&C()},je=({disabled:i,name:n})=>{(H(i)&&a.mount||i||c.disabled.has(n))&&(i?c.disabled.add(n):c.disabled.delete(n))},Ae=(i,n={})=>{let u=h(s,i);const y=H(n.disabled)||H(r.disabled);return A(s,i,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:i}},name:i,mount:!0,...n}}),c.mount.add(i),u?je({disabled:H(n.disabled)?n.disabled:r.disabled,name:i}):W(i,!0,n.value),{...y?{disabled:n.disabled||r.disabled}:{},...r.progressive?{required:!!n.required,min:le(n.min),max:le(n.max),minLength:le(n.minLength),maxLength:le(n.maxLength),pattern:le(n.pattern)}:{},name:i,onChange:K,onBlur:K,ref:d=>{if(d){Ae(i,n),u=h(s,i);const f=S(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,g=Jt(f),F=u._f.refs||[];if(g?F.find(E=>E===f):f===u._f.ref)return;A(s,i,{_f:{...u._f,...g?{refs:[...F.filter(Oe),f,...Array.isArray(h(l,i))?[{}]:[]],ref:{type:f.type,name:i}}:{ref:f}}}),W(i,!1,void 0,f)}else u=h(s,i,{}),u._f&&(u._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&!(qt(c.array,i)&&a.action)&&c.unMount.add(i)}}},Ee=()=>r.shouldFocusError&&fe(s,ae,c.mount),Ot=i=>{H(i)&&(v.state.next({disabled:i}),fe(s,(n,u)=>{const y=h(s,u);y&&(n.disabled=y._f.disabled||i,Array.isArray(y._f.refs)&&y._f.refs.forEach(d=>{d.disabled=y._f.disabled||i}))},0,!1))},Be=(i,n)=>async u=>{let y;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let d=M(o);if(v.state.next({isSubmitting:!0}),r.resolver){const{errors:f,values:g}=await X();t.errors=f,d=M(g)}else await B(s);if(c.disabled.size)for(const f of c.disabled)k(d,f);if(k(t.errors,"root"),L(t.errors)){v.state.next({errors:{}});try{await i(d,u)}catch(f){y=f}}else n&&await n({...t.errors},u),Ee(),setTimeout(Ee);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:L(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},St=(i,n={})=>{h(s,i)&&(S(n.defaultValue)?T(i,M(h(l,i))):(T(i,n.defaultValue),A(l,i,M(n.defaultValue))),n.keepTouched||k(t.touchedFields,i),n.keepDirty||(k(t.dirtyFields,i),t.isDirty=n.defaultValue?$(i,M(h(l,i))):$()),n.keepError||(k(t.errors,i),b.isValid&&C()),v.state.next({...t}))},ze=(i,n={})=>{const u=i?M(i):l,y=M(u),d=L(i),f=d?l:y;if(n.keepDefaultValues||(l=u),!n.keepValues){if(n.keepDirtyValues){const g=new Set([...c.mount,...Object.keys(ne(l,o))]);for(const F of Array.from(g))h(t.dirtyFields,F)?A(f,F,h(o,F)):T(F,h(f,F))}else{if(Ce&&S(i))for(const g of c.mount){const F=h(s,g);if(F&&F._f){const E=Array.isArray(F._f.refs)?F._f.refs[0]:F._f.ref;if(be(E)){const j=E.closest("form");if(j){j.reset();break}}}}if(n.keepFieldsRef)for(const g of c.mount)T(g,h(f,g));else s={}}o=r.shouldUnregister?n.keepDefaultValues?M(l):{}:M(f),v.array.next({values:{...f}}),v.state.next({values:{...f}})}c={mount:n.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!b.isValid||!!n.keepIsValid||!!n.keepDirtyValues,a.watch=!!r.shouldUnregister,v.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:d?!1:n.keepDirty?t.isDirty:!!(n.keepDefaultValues&&!ee(i,l)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d?{}:n.keepDirtyValues?n.keepDefaultValues&&o?ne(l,o):t.dirtyFields:n.keepDefaultValues&&i?ne(l,i):n.keepDirty?t.dirtyFields:{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},qe=(i,n)=>ze(q(i)?i(o):i,n),kt=(i,n={})=>{const u=h(s,i),y=u&&u._f;if(y){const d=y.refs?y.refs[0]:y.ref;d.focus&&(d.focus(),n.shouldSelect&&q(d.select)&&d.select())}},Dt=i=>{t={...t,...i}},We={control:{register:Ae,unregister:we,getFieldState:Ue,handleSubmit:Be,setError:Ne,_subscribe:Ie,_runSchema:X,_focusError:Ee,_getWatch:m,_getDirty:$,_setValid:C,_setFieldArray:Ve,_setDisabledField:je,_setErrors:Z,_getFieldArray:w,_reset:ze,_resetDefaultValues:()=>q(r.defaultValues)&&r.defaultValues().then(i=>{qe(i,r.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:te,_disableForm:Ot,_subjects:v,_proxyFormState:b,get _fields(){return s},get _formValues(){return o},get _state(){return a},set _state(i){a=i},get _defaultValues(){return l},get _names(){return c},set _names(i){c=i},get _formState(){return t},get _options(){return r},set _options(i){r={...r,...i}}},subscribe:pt,trigger:se,register:Ae,handleSubmit:Be,watch:xt,setValue:T,getValues:he,reset:qe,resetField:St,clearErrors:Et,unregister:we,setError:Ne,setFocus:kt,getFieldState:Ue};return{...We,formControl:We}}function Ar(e={}){const r=N.useRef(void 0),t=N.useRef(void 0),[s,l]=N.useState({isDirty:!1,isValidating:!1,isLoading:q(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:q(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:s},e.defaultValues&&!q(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...c}=ur(e);r.current={...c,formState:s}}const o=r.current.control;return o._options=e,Ht(()=>{const a=o._subscribe({formState:o._proxyFormState,callback:()=>l({...o._formState}),reRenderRoot:!0});return l(c=>({...c,isReady:!0})),o._formState.isReady=!0,a},[o]),N.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),N.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),N.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),N.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),N.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==s.isDirty&&o._subjects.state.next({isDirty:a})}},[o,s.isDirty]),N.useEffect(()=>{e.values&&!ee(e.values,t.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),t.current=e.values,l(a=>({...a}))):o._resetDefaultValues()},[o,e.values]),N.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=Kt(s,o),r.current}const ot=(e,r,t)=>{if(e&&"reportValidity"in e){const s=h(t,r);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},De=(e,r)=>{for(const t in r.fields){const s=r.fields[t];s&&s.ref&&"reportValidity"in s.ref?ot(s.ref,t,e):s&&s.refs&&s.refs.forEach(l=>ot(l,t,e))}},at=(e,r)=>{r.shouldUseNativeValidation&&De(e,r);const t={};for(const s in e){const l=h(r.fields,s),o=Object.assign(e[s]||{},{ref:l&&l.ref});if(lr(r.names||Object.keys(e),s)){const a=Object.assign({},h(t,s));A(a,"root",o),A(t,s,a)}else A(t,s,o)}return t},lr=(e,r)=>{const t=ut(r);return e.some(s=>ut(s).match(`^${t}\\.\\d+`))};function ut(e){return e.replace(/\]|\[/g,"")}function mt(e,r,t){function s(c,V){var x;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(x=c._zod).traits??(x.traits=new Set),c._zod.traits.add(e),r(c,V);for(const b in a.prototype)b in c||Object.defineProperty(c,b,{value:a.prototype[b].bind(c)});c._zod.constr=a,c._zod.def=V}const l=t?.Parent??Object;class o extends l{}Object.defineProperty(o,"name",{value:e});function a(c){var V;const x=t?.Parent?new o:this;s(x,c),(V=x._zod).deferred??(V.deferred=[]);for(const b of x._zod.deferred)b();return x}return Object.defineProperty(a,"init",{value:s}),Object.defineProperty(a,Symbol.hasInstance,{value:c=>t?.Parent&&c instanceof t.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}class cr extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const fr={};function _t(e){return fr}function dr(e,r){return typeof r=="bigint"?r.toString():r}const Vt=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function ve(e){return typeof e=="string"?e:e?.message}function Ft(e,r,t){const s={...e,path:e.path??[]};if(!e.message){const l=ve(e.inst?._zod.def?.error?.(e))??ve(r?.error?.(e))??ve(t.customError?.(e))??ve(t.localeError?.(e))??"Invalid input";s.message=l}return delete s.inst,delete s.continue,r?.reportInput||delete s.input,s}const wt=(e,r)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:r,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(r,dr,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},yr=mt("$ZodError",wt),At=mt("$ZodError",wt,{Parent:Error}),hr=e=>(r,t,s,l)=>{const o=s?Object.assign(s,{async:!1}):{async:!1},a=r._zod.run({value:t,issues:[]},o);if(a instanceof Promise)throw new cr;if(a.issues.length){const c=new(l?.Err??e)(a.issues.map(V=>Ft(V,o,_t())));throw Vt(c,l?.callee),c}return a.value},gr=hr(At),vr=e=>async(r,t,s,l)=>{const o=s?Object.assign(s,{async:!0}):{async:!0};let a=r._zod.run({value:t,issues:[]},o);if(a instanceof Promise&&(a=await a),a.issues.length){const c=new(l?.Err??e)(a.issues.map(V=>Ft(V,o,_t())));throw Vt(c,l?.callee),c}return a.value},br=vr(At);function lt(e,r){try{var t=e()}catch(s){return r(s)}return t&&t.then?t.then(void 0,r):t}function mr(e,r){for(var t={};e.length;){var s=e[0],l=s.code,o=s.message,a=s.path.join(".");if(!t[a])if("unionErrors"in s){var c=s.unionErrors[0].errors[0];t[a]={message:c.message,type:c.code}}else t[a]={message:o,type:l};if("unionErrors"in s&&s.unionErrors.forEach(function(b){return b.errors.forEach(function(p){return e.push(p)})}),r){var V=t[a].types,x=V&&V[s.code];t[a]=Re(a,r,t,l,x?[].concat(x,s.message):s.message)}e.shift()}return t}function _r(e,r){for(var t={};e.length;){var s=e[0],l=s.code,o=s.message,a=s.path.join(".");if(!t[a])if(s.code==="invalid_union"&&s.errors.length>0){var c=s.errors[0][0];t[a]={message:c.message,type:c.code}}else t[a]={message:o,type:l};if(s.code==="invalid_union"&&s.errors.forEach(function(b){return b.forEach(function(p){return e.push(p)})}),r){var V=t[a].types,x=V&&V[s.code];t[a]=Re(a,r,t,l,x?[].concat(x,s.message):s.message)}e.shift()}return t}function Er(e,r,t){if(t===void 0&&(t={}),(function(s){return"_def"in s&&typeof s._def=="object"&&"typeName"in s._def})(e))return function(s,l,o){try{return Promise.resolve(lt(function(){return Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](s,r)).then(function(a){return o.shouldUseNativeValidation&&De({},o),{errors:{},values:t.raw?Object.assign({},s):a}})},function(a){if((function(c){return Array.isArray(c?.issues)})(a))return{values:{},errors:at(mr(a.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw a}))}catch(a){return Promise.reject(a)}};if((function(s){return"_zod"in s&&typeof s._zod=="object"})(e))return function(s,l,o){try{return Promise.resolve(lt(function(){return Promise.resolve((t.mode==="sync"?gr:br)(e,s,r)).then(function(a){return o.shouldUseNativeValidation&&De({},o),{errors:{},values:t.raw?Object.assign({},s):a}})},function(a){if((function(c){return c instanceof yr})(a))return{values:{},errors:at(_r(a.issues,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw a}))}catch(a){return Promise.reject(a)}};throw new Error("Invalid input: not a Zod schema")}export{Ar as a,Er as b,wr as u};
