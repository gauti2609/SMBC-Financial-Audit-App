import{d as N,u as j,f as v,r as c,z as m,o as P,j as e,s as o}from"./index-HyfZDTXf.js";import{u as C,a as k,b as F}from"./zod-DIWepabP.js";import{F as u}from"./EyeSlashIcon-D_K215L0.js";import{F as x}from"./EyeIcon-C-uHLVJa.js";const S=P({email:o().email("Please enter a valid email address"),password:o().min(8,"Password must be at least 8 characters"),confirmPassword:o().min(1,"Please confirm your password"),firstName:o().optional(),lastName:o().optional()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function L(){const t=N(),p=j(),g=v(a=>a.setAuth),[i,f]=c.useState(!1),[n,h]=c.useState(!1),l=C(p.register.mutationOptions({onSuccess:a=>{g(a.user,a.token),m.success("Account created successfully! Welcome!"),t({to:"/"})},onError:a=>{m.error(a.message||"Registration failed")}})),{register:r,handleSubmit:b,formState:{errors:s,isSubmitting:d}}=k({resolver:F(S)}),y=async a=>{const{confirmPassword:A,...w}=a;await l.mutateAsync(w)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-center text-3xl font-bold text-gray-900",style:{fontFamily:"Bookman Old Style, serif"},children:"Financial Automation Tool"}),e.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-gray-900",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",e.jsx("button",{onClick:()=>t({to:"/login"}),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign in here"})]})]}),e.jsx("div",{className:"bg-white py-8 px-6 shadow-lg rounded-lg",children:e.jsxs("form",{className:"space-y-6",onSubmit:b(y),children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{...r("firstName"),type:"text",autoComplete:"given-name",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"First name"}),s.firstName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.firstName.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{...r("lastName"),type:"text",autoComplete:"family-name",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Last name"}),s.lastName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.lastName.message})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{...r("email"),type:"email",autoComplete:"email",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your email"}),s.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{...r("password"),type:i?"text":"password",autoComplete:"new-password",className:"appearance-none block w-full px-3 py-2 pr-10 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Create a password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>f(!i),children:i?e.jsx(u,{className:"h-5 w-5 text-gray-400"}):e.jsx(x,{className:"h-5 w-5 text-gray-400"})}),s.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{...r("confirmPassword"),type:n?"text":"password",autoComplete:"new-password",className:"appearance-none block w-full px-3 py-2 pr-10 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Confirm your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>h(!n),children:n?e.jsx(u,{className:"h-5 w-5 text-gray-400"}):e.jsx(x,{className:"h-5 w-5 text-gray-400"})}),s.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.confirmPassword.message})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:d||l.isPending,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d||l.isPending?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating account..."]}):"Create account"})})]})})]})})}export{L as component};
