import{d as g,u as h,f,r as b,z as l,o as y,j as e,s as d}from"./index-HyfZDTXf.js";import{u as j,a as w,b as N}from"./zod-DIWepabP.js";import{F as v}from"./EyeSlashIcon-D_K215L0.js";import{F as S}from"./EyeIcon-C-uHLVJa.js";const k=y({email:d().email("Please enter a valid email address"),password:d().min(1,"Password is required")});function C(){const o=g(),c=h(),m=f(s=>s.setAuth),[r,u]=b.useState(!1),a=j(c.login.mutationOptions({onSuccess:s=>{m(s.user,s.token),l.success("Welcome back!"),o({to:"/"})},onError:s=>{l.error(s.message||"Login failed")}})),{register:i,handleSubmit:x,formState:{errors:t,isSubmitting:n}}=w({resolver:N(k)}),p=async s=>{await a.mutateAsync(s)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-center text-3xl font-bold text-gray-900",style:{fontFamily:"Bookman Old Style, serif"},children:"Financial Automation Tool"}),e.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-gray-900",children:"Sign in to your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx("button",{onClick:()=>o({to:"/register"}),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"create a new account"})]})]}),e.jsx("div",{className:"bg-white py-8 px-6 shadow-lg rounded-lg",children:e.jsxs("form",{className:"space-y-6",onSubmit:x(p),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{...i("email"),type:"email",autoComplete:"email",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your email"}),t.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.email.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{...i("password"),type:r?"text":"password",autoComplete:"current-password",className:"appearance-none block w-full px-3 py-2 pr-10 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!r),children:r?e.jsx(v,{className:"h-5 w-5 text-gray-400"}):e.jsx(S,{className:"h-5 w-5 text-gray-400"})}),t.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.password.message})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:n||a.isPending,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n||a.isPending?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"})})]})})]})})}export{C as component};
